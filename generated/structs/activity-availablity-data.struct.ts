import { getStringFromDataView } from "../predef";
import { EUdsUpdateMode } from "../enums";

export class ActivityAvailablityData {
	public readonly availableActivities: string[];
	public readonly unavailableActivities: string[];
	public readonly updateMode: EUdsUpdateMode;

	constructor(view: DataView) {
		if (view.byteLength !== 4104) {
			throw new Error('Invalid view size');
		}
		this.availableActivities = [getStringFromDataView(view, 0, 31), getStringFromDataView(view, 32, 63), getStringFromDataView(view, 64, 95), getStringFromDataView(view, 96, 127), getStringFromDataView(view, 128, 159), getStringFromDataView(view, 160, 191), getStringFromDataView(view, 192, 223), getStringFromDataView(view, 224, 255), getStringFromDataView(view, 256, 287), getStringFromDataView(view, 288, 319), getStringFromDataView(view, 320, 351), getStringFromDataView(view, 352, 383), getStringFromDataView(view, 384, 415), getStringFromDataView(view, 416, 447), getStringFromDataView(view, 448, 479), getStringFromDataView(view, 480, 511), getStringFromDataView(view, 512, 543), getStringFromDataView(view, 544, 575), getStringFromDataView(view, 576, 607), getStringFromDataView(view, 608, 639), getStringFromDataView(view, 640, 671), getStringFromDataView(view, 672, 703), getStringFromDataView(view, 704, 735), getStringFromDataView(view, 736, 767), getStringFromDataView(view, 768, 799), getStringFromDataView(view, 800, 831), getStringFromDataView(view, 832, 863), getStringFromDataView(view, 864, 895), getStringFromDataView(view, 896, 927), getStringFromDataView(view, 928, 959), getStringFromDataView(view, 960, 991), getStringFromDataView(view, 992, 1023), getStringFromDataView(view, 1024, 1055), getStringFromDataView(view, 1056, 1087), getStringFromDataView(view, 1088, 1119), getStringFromDataView(view, 1120, 1151), getStringFromDataView(view, 1152, 1183), getStringFromDataView(view, 1184, 1215), getStringFromDataView(view, 1216, 1247), getStringFromDataView(view, 1248, 1279), getStringFromDataView(view, 1280, 1311), getStringFromDataView(view, 1312, 1343), getStringFromDataView(view, 1344, 1375), getStringFromDataView(view, 1376, 1407), getStringFromDataView(view, 1408, 1439), getStringFromDataView(view, 1440, 1471), getStringFromDataView(view, 1472, 1503), getStringFromDataView(view, 1504, 1535), getStringFromDataView(view, 1536, 1567), getStringFromDataView(view, 1568, 1599), getStringFromDataView(view, 1600, 1631), getStringFromDataView(view, 1632, 1663), getStringFromDataView(view, 1664, 1695), getStringFromDataView(view, 1696, 1727), getStringFromDataView(view, 1728, 1759), getStringFromDataView(view, 1760, 1791), getStringFromDataView(view, 1792, 1823), getStringFromDataView(view, 1824, 1855), getStringFromDataView(view, 1856, 1887), getStringFromDataView(view, 1888, 1919), getStringFromDataView(view, 1920, 1951), getStringFromDataView(view, 1952, 1983), getStringFromDataView(view, 1984, 2015), getStringFromDataView(view, 2016, 2047)];
		this.unavailableActivities = [getStringFromDataView(view, 2048, 2079), getStringFromDataView(view, 2080, 2111), getStringFromDataView(view, 2112, 2143), getStringFromDataView(view, 2144, 2175), getStringFromDataView(view, 2176, 2207), getStringFromDataView(view, 2208, 2239), getStringFromDataView(view, 2240, 2271), getStringFromDataView(view, 2272, 2303), getStringFromDataView(view, 2304, 2335), getStringFromDataView(view, 2336, 2367), getStringFromDataView(view, 2368, 2399), getStringFromDataView(view, 2400, 2431), getStringFromDataView(view, 2432, 2463), getStringFromDataView(view, 2464, 2495), getStringFromDataView(view, 2496, 2527), getStringFromDataView(view, 2528, 2559), getStringFromDataView(view, 2560, 2591), getStringFromDataView(view, 2592, 2623), getStringFromDataView(view, 2624, 2655), getStringFromDataView(view, 2656, 2687), getStringFromDataView(view, 2688, 2719), getStringFromDataView(view, 2720, 2751), getStringFromDataView(view, 2752, 2783), getStringFromDataView(view, 2784, 2815), getStringFromDataView(view, 2816, 2847), getStringFromDataView(view, 2848, 2879), getStringFromDataView(view, 2880, 2911), getStringFromDataView(view, 2912, 2943), getStringFromDataView(view, 2944, 2975), getStringFromDataView(view, 2976, 3007), getStringFromDataView(view, 3008, 3039), getStringFromDataView(view, 3040, 3071), getStringFromDataView(view, 3072, 3103), getStringFromDataView(view, 3104, 3135), getStringFromDataView(view, 3136, 3167), getStringFromDataView(view, 3168, 3199), getStringFromDataView(view, 3200, 3231), getStringFromDataView(view, 3232, 3263), getStringFromDataView(view, 3264, 3295), getStringFromDataView(view, 3296, 3327), getStringFromDataView(view, 3328, 3359), getStringFromDataView(view, 3360, 3391), getStringFromDataView(view, 3392, 3423), getStringFromDataView(view, 3424, 3455), getStringFromDataView(view, 3456, 3487), getStringFromDataView(view, 3488, 3519), getStringFromDataView(view, 3520, 3551), getStringFromDataView(view, 3552, 3583), getStringFromDataView(view, 3584, 3615), getStringFromDataView(view, 3616, 3647), getStringFromDataView(view, 3648, 3679), getStringFromDataView(view, 3680, 3711), getStringFromDataView(view, 3712, 3743), getStringFromDataView(view, 3744, 3775), getStringFromDataView(view, 3776, 3807), getStringFromDataView(view, 3808, 3839), getStringFromDataView(view, 3840, 3871), getStringFromDataView(view, 3872, 3903), getStringFromDataView(view, 3904, 3935), getStringFromDataView(view, 3936, 3967), getStringFromDataView(view, 3968, 3999), getStringFromDataView(view, 4000, 4031), getStringFromDataView(view, 4032, 4063), getStringFromDataView(view, 4064, 4095)];
		this.updateMode = view.getInt32(4096, true);
	}

	public static get dataView(): DataView {
		return new DataView(new ArrayBuffer(4104));
	}
}